<html>
<head>
	<meta charset="UTF-8">
	<title>微博运动效果</title>
	<style>
	* {margin:0; padding:0;}
	#weibo {width:400px; height:400px; border:1px solid black; margin:10px auto; overflow:hidden;}
	#weibo li {border-bottom:1px #999 dashed; padding:4px; list-style:none; overflow:hidden; filter:alpha(opacity:0); opacity:0;}
	</style>
	<script src="move2.js"></script>
</head>
<body>
	<textarea  id="txt1" cols="40" rows="4"></textarea>
	<input type="button" id='btn1' value="发布微博">
	<ul id='weibo'>
	</ul>
	<script>
		var oBtn=document.querySelector("#btn1");
		var oUl=document.querySelector("#weibo");
		var oTxt=document.querySelector("#txt1");

		oBtn.onclick=function(){
			var oLi=document.createElement("li");
			oLi.innerHTML=oTxt.value;
			oTxt.value='';
			if(oLi.innerHTML){
				if(oUl.children.length>0){
				oUl.insertBefore(oLi, oUl.children[0]);
				}else{
					oUl.appendChild(oLi);
				}
				//运动添加
				 var iHeight=oLi.offsetHeight;
				 oLi.style.height='0';

				 startMove(oLi,{height:iHeight},function(){
				 	startMove(oLi,{opacity:100});
				 })
			}else{
				alert("你好像没有输入微博内容哦")
			}
			
			

		}

	</script>
</body>
</html>